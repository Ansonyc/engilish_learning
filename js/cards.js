let people_descriptions = [
    ["夏侯惇","［元譲］","曹操的重臣。西漢夏侯嬰的後裔。","曹操舉兵以來，經常隨軍出戰。在董卓追擊戰時，救出了敗給徐榮的曹操，並刺殺了徐榮。和呂布交戰時，左眼中了曹性一箭，但依舊奮勇斬殺曹性。在劉備登庸諸葛亮時，前去侵攻新野，但中了諸葛亮的火攻而大敗。當耿紀和韋晃在許都對曹操發動叛變時前往鎮壓。與劉備軍進行漢中攻防戰時，詢問楊脩曹操隨口說出的「雞肋」一詞為何意，並進行撤退的指揮。曹操死後沒多久，也跟著病死。","失去左眼又被稱為盲夏侯。在曹丕時代被封為大將軍。"],
    ["曹操","［孟德］","宦官曹騰之孫，曹嵩之子。魏武帝。幼名為阿瞞。","被許劭評為「治世之能臣，亂世之奸雄」。在討伐黃巾黨時十分活躍，當董卓掌握實權時，呼籲各地諸侯舉兵響應打倒董卓。之後，平定兗州並收編青州兵，將獻帝迎至許昌而掌握政權。擊敗呂布、袁術等人，在官渡之戰時擊破袁紹並支配河北。接著雖攻下劉琮逼近江東，卻在赤壁之戰敗給了孫權和劉備的聯軍，失去了統一全土的機會。之後致力於平定關中以西之地。213年為魏公，216年為魏王。","政戰兩方都非常優秀，並且是精通詩歌文學的萬能英雄。"],
    ["夏侯淵","［妙才］","曹操的重臣。夏侯惇的堂弟。夏侯霸、威、惠、和之父。","連同夏侯惇在曹操舉兵時從軍。銅雀台落成時展現曹操軍第一弓術，在渭水一戰中射殺成宜。在擊退馬超後，毛遂自薦同張既共守長安，並平定涼州。張魯討伐戰中同張郃擔任先鋒，在壓制漢中後守衛定軍山。漢中受到劉備攻打時，雖收到曹操「對妙才（夏侯淵的字）有所期待」警惕切莫過於急躁所寫的一封信，卻還是因對山被劉備軍奪走而焦躁，在急著出征後被黃忠所殺。","官渡之戰時負責確保兵糧。善於奇襲。"],
    ["郭嘉","［奉孝］","曹操的參謀。郭奕父親。","在程昱的推薦之下仕官於曹操，他則是推薦了劉曄。在劉備前來投靠曹操時，面對荀彧與程昱進言應該要斬殺劉備，他提出斬殺劉備將失去人心的反論。官渡之戰前夕，向曹操解說能勝過袁紹的十個勝因。所以比起袁紹，更該優先去討伐呂布。之後正確地預言孫策會早死、袁家會滅亡。但是在討伐袁尚的途中病死。曹操在赤壁敗北後，大嘆「郭奉孝在，不使孤至此」。","受荀彧推薦成為謀臣戲志才的後繼者。"],
    ["徐晃","［公明］","魏國武將。操使大斧的能手。","曾經是楊奉的部下，被滿寵說服轉而為曹操效命。在呂布討伐戰時虜獲陳宮。雖在官渡之戰敗給顏良、文醜，但因突擊烏巢而助其獲勝。之後也參戰赤壁、渭水、漢中等地，在關羽包圍樊城時迎擊阻止前進。此後孟達順應諸葛亮北伐而叛亂，同司馬懿前往鎮壓時，卻身中孟達的箭而亡。","迎戰關羽後，見其一絲不亂地率兵的曹操讚為「有西漢名將周亞夫風範」。"],
    ["張遼","［文遠］","呂布之武將。後仕於曹操。張虎之父。","於呂布敗亡下邳時被捕，因劉備及關羽之建議而受曹操任用。於曹操軍將關羽包圍於下邳時說服其投降。官渡之戰後負責指揮討伐烏丸、於白狼山討伐蹋頓。赤壁之戰後進入合淝，防守魏吳國境。215年，與李典、樂進共同於逍遙津大敗孫權軍，據傳可使哭泣中之孩童，僅聞其名則立即安靜無聲。224年，追隨曹丕進攻吳國之時，身中丁奉之箭，不久後因箭傷而亡。","222年，與曹休共同擊敗吳國之呂範，病亡。"],
    ["賈詡","［文和］","李傕、郭汜的參謀。之後服侍張繡、曹操。","董卓死後，向李傕等人進言奪取長安擁立獻帝。在奪回長安後為了獻帝四處奔走，在獻帝逃離長安之後成為張繡的部下。曾夜襲正對鄒氏獻殷勤的曹操等，多次讓曹操軍吃到苦頭。在官渡之戰前，說服張繡向曹操投降。在渭水之戰中所策劃的離間計，成功地使馬超和韓遂失和。在曹操苦惱於選擇繼承人之時，向曹操進言應該選擇曹丕。在曹丕即位後成為太尉。","被閻忠評論為足以和張良、陳平匹敵的策士。"],
    ["荀彧","［文若］","曹操的參謀。荀攸的叔父。原為袁紹麾下。","曹操要平定兗州的黃巾殘黨而招募人材時，成為了曹操的手下。曹操得到荀彧時，被讚為「吾之子房」。在呂布奇襲兗州時，和程昱一起死守三縣。在獻帝從李傕身旁逃亡時，進言應該要護帝。官渡之戰時鼓勵了因為劣勢而變得膽怯的曹操，以第一謀臣身分在支持著曹操軍。可是因為反對曹操就任魏公而惹毛曹操，就送給他一個空的食器（意思就是你已經沒有利用價值了），他便服毒自盡。","出身於有三公的名門。被評為「王佐之才」。"],
    ["司馬懿","［仲達］","魏國重臣。司馬師、昭之父，司馬炎的祖父。晉宣帝。","荊州的關羽攻擊襄陽時，獻策和孫權同盟共同攻打關羽。受到曹丕的信任，到曹叡時代統括雍州和涼州的軍事。雖一度因諸葛亮和馬謖的計謀被懷疑謀反遭到解職，但在諸葛亮開始北伐後又復職。一直到諸葛亮戰死於五丈原，都成功擋下蜀軍的攻擊。此外，公孫淵在遼東企圖自立時，以電擊般的速度遠征並且討伐。在曹芳時代，因為曹爽的陰謀而被奪去實權，不過249年時成功地討伐曹爽而奪取政權。","平定王淩的反叛後逝世於洛陽。奠定了晉朝的基礎。"],
    ["張郃","［儁乂］","魏國武將。原為袁紹部下。","於官渡之戰時加入袁紹軍隊。於烏巢遭曹操突襲時，採納郭圖之策，與高覽共同進攻曹操之本營卻敗退。因遭郭圖轉嫁戰敗之責，不得已向曹操投降。爾後成為魏將轉戰各地。於進攻漢中張魯時與夏侯淵一同擔任先鋒。與劉備之漢中攻防戰慘敗於張飛，險遭曹洪斬首。諸葛亮發起北伐時，雖於街亭擊破馬謖，讓蜀軍大吃苦頭，卻於第四回北伐時陣亡於木門道。","黃巾之亂時，於韓馥之指揮下進行鎮壓。"],
    ["孫堅","［文台］","東漢長沙太守。孫策、孫權之父。吳國的武烈皇帝。","討伐盜賊立功，在討伐黃巾黨時也相當活躍，被稱為「江東之虎」。響應曹操發起的討伐董卓的號令，一馬當先和華雄交戰，卻因袁術未送來兵糧而敗北。在進駐洛陽時因爭奪玉璽和袁紹對立，並被袁紹派的劉表所襲。之後雖與聯合袁術的劉表交戰，因中了蒯良的計謀而遭到箭石所攻戰死。","反董卓聯合的眾多諸侯因畏懼董卓而遲不敢戰時，單獨一人孤軍奮戰並建立戰績。在陽人之戰中殺死華雄，並且復興被董卓放火燒毀的洛陽等，為漢朝鞠躬盡瘁。"],
    ["孫策","［伯符］","孫堅長男。孫權兄長。妻子是大喬。吳國長沙桓王。","和父親一起與劉表軍交戰，父親死後則歸附袁術。以玉璽為抵押向袁術借兵，並進軍江東。剿伐劉繇、嚴白虎、王朗等人並在短期間內就平定江東一帶，被人稱為「小霸王（霸王則是指項羽）」。之後從袁術底下獨立。因為處死和曹操勾結的許貢，遭其食客襲擊而身受重傷。在交代後事，並將弟弟孫權託付給義兄弟周瑜之後便逝世了。","在當袁術手下時，殺了「吳之四姓」的陸康，與江東的名士層對立。孫權和陸遜（陸康的同族）雖然已經和解，但之後吳國則頻頻發生皇帝與臣下的對。"],
    ["孫權","［仲謀］","孫堅次男。其母為正室的吳氏，孫策之弟。吳國大帝。","年輕時繼承孫策之位支配江東。208年討伐了殺父仇人黃祖，和劉備結盟在赤壁之戰中擊退曹操。之後在合淝與曹操軍交戰，但因爭奪荊州而與劉備對立卻逐漸表面化。之後聯合曹操殺死劉備的義弟關羽，並在夷陵之戰打敗為關羽復仇而來的劉備，支配了荊州。劉備死後，再次和蜀國同盟並且和魏國斷交。229年建立吳國。","年輕時被評為掌握人才的能力在孫策之上，但晚年卻引發繼承者的問題，致使陸遜等諸多能臣死去。"],
    ["周瑜","［公瑾］","孫策的義兄弟，其妻為小喬。揚州的名士。","協助孫策的江東進軍戰。孫策臨死時，對孫權留下了如有國家大事務必找周瑜商討的遺言。孫策死後服侍孫權，並推舉了魯肅。曹操進攻江東時，主張和劉備軍結盟抗戰。任大都督率領孫權軍，在赤壁之戰大破曹操軍。之後，進軍曹操軍所在的江陵時，苦戰於曹仁並且負傷。最後江陵被諸葛亮奪走，便在苦悶之中去世。","與諸葛亮的謀略戰和氣量狹小是演義中的虛構情節。赤壁之戰的勝利和委讓荊州南部給劉備軍，皆由周瑜所主導。"],
    ["魯肅","［子敬］","吳國重臣。魯淑父親。","孫策死後，在周瑜的推舉下仕官於孫權。自己也推薦了諸葛瑾，而受到了孫權信賴。208年，請來了諸葛亮讓孫權能下定決心和曹操決戰，並帶領赤壁之戰取得勝利。周瑜死後成為其繼任者，在臨江亭和關羽會談後，成功地索回江夏、長沙、桂陽等地。之後在前往陸口赴任中病死。","在周瑜向他請求支援軍糧時，他毫不藏私地將庫存米提供出去而倍受尊敬。並向孫權提示了二分天下之計。215年，在益陽和關羽對陣，並讓劉備承認湘水以東為吳國領地。"],
    ["呂蒙","［子明］","吳國武將。","孫策歿後效命於孫權。參加赤壁之戰、南郡攻略戰後，進言於濡須口建築出城。吳軍於合淝慘敗之時，此出城發揮了助益。219年，聽從陸遜之策，促使關羽失之大意並攻下荊州。雖討伐了關羽，但於不久後即為關羽之靈纏身，死亡。","自孫策時代起為吳國效命。受孫權建議鑽究學問後獲得了很高的學識，使得魯肅為之驚嘆「已非昔日之吳下阿蒙」。215年，攻下長沙、零陵、桂陽，讓劉備承認湘水以東為吳國領地。於討伐關羽後不久病歿。"],
    ["陸遜","［伯言］","吳國武將。本名陸議。「吳之四姓」陸家出身。陸抗父親。代替年少之堂兄弟陸績率領其一家族。","於孫策歿後，受招攬至孫權陣營。219年，發出陳言謙卑書信使關羽失之大意，支援呂蒙攻略荊州。夷陵之戰時，火攻劉備大軍贏得勝利。於石亭之戰亦擊潰曹休，成為吳國之中流砥柱。","少小喪父，故投靠親族之陸康，陸康卻為孫策所殺。於孫權時代得以和解，娶孫策之女為妻。其後，討伐異民族表現傑出。244年，雖成為丞相，卻因捲入孫和與孫霸繼位者之爭，悲憤而死。"],
    ["甘寧","［興覇］","吳國勇將。原本是錦帆賊的頭目。腰間繫著鈴鐺。","後成為黃祖的部下。在和孫權軍交戰時斬殺凌操，但還是沒能受到重用。在同僚蘇飛的勸說之下，向孫權投降。成為孫權軍的將軍而逼黃祖至絕路。在蘇飛被俘時，出面替他請命。之後在赤壁、南郡、合淝等地都以吳軍先鋒在奮戰。在濡須口更是以百人成功地進行夜襲，被稱讚為能和魏國張遼匹敵的勇將。凌操之子凌統仇視他而一心想取其性命，但之後解救了受到樂進襲擊的凌統而和解。在夷陵之戰時，中了沙摩柯一箭而戰死。","並沒有他在夷陵戰死的記述。"],
    ["周泰","［幼平］","吳國武將。","揚子江江賊。周平兄長。和蔣欽一起仕官於進軍江東的孫策。陪同孫權守備宣城時受到山賊襲擊，全身上下都是槍傷但依然奮勇救出孫權。之後在赤壁、合淝、夷陵等戰事當中皆以主力身分參戰。特別是在215年的合淝攻防戰裡，救出了被魏軍包圍的孫權和徐盛，孫權賜給他青絹傘。","當上濡須督時，被編入指揮下的朱然、徐盛等人對此有所不滿。孫權這時就一個個指出周泰身上的傷痕，並陳述他的功績，才讓朱然等人接受。"],
    ["程普","［德謀］","仕於孫堅、孫策、孫權三代之吳國老臣。程咨之父。","成為參與反董卓聯盟之孫堅之參謀對抗董卓軍、於汜水關討伐胡軫。至洛陽後，與孫堅共同發現玉璽。孫堅戰死後輔佐孫策、孫權，赤壁之戰時為主張與曹操交戰之武鬥派中心人物。雖於最初受分發至年輕之周瑜底下而心懷不滿，但於知曉周瑜之指揮能力為適才適所後，心悅誠服。爾後追隨周瑜於赤壁、南郡接連之戰役。","討伐黃巾後追隨孫堅。周瑜歿後成為南郡太守。因與劉備分割荊州而遷移至江夏後，死亡。"],
    ["馬超","［孟起］","馬騰長男。馬休、馬鐵的兄長。蜀漢五虎將軍之一。","在父弟遭曹操謀殺時，和馬騰的結拜兄弟韓遂一起發動了復仇戰。並接連攻下長安、潼關，在渭水和曹操對陣，但中了曹操參謀賈詡的離間計而和韓遂決裂導至大敗。雖然奪了冀城而持續抵抗著，但在楊阜等人的計略之下遭到驅逐並失去了妻子。之後投靠於張魯並和劉備軍交戰，和張飛展開了激烈的對戰。在李恢的說服之下，倒戈加入了劉備陣營。有「錦馬超」的綽號。","因警戒曹操企圖征伐漢中的行動而起兵，但敗北。也因這場叛亂，讓馬騰、馬休、馬鐵等人受連累而遭處刑。"],
    ["劉備","［玄德］","漢之中山靖王劉勝之子孫。蜀之昭烈皇帝。劉禪之父。","桃園三結義時與關羽、張飛結為義兄弟，於黃巾黨及董卓之討伐戰中表現傑出。雖受徐州牧陶謙之請求接掌其地位，卻為呂布所奪，故投靠曹操。受獻帝賜與皇叔稱號，參與曹操暗殺計劃但事跡敗露。故遠走投靠袁紹及劉表。以三顧茅廬之禮迎請諸葛亮後，支配荊州益州建立起一大勢力範圍。自曹操處奪走漢中成為漢中王，於221年建蜀國。為報關羽之仇進攻吳國，但慘敗於陸遜後病歿。","喜好狩獵及音樂，並重視自身之修養。"],
    ["關羽","［雲長］","劉備的義弟，張飛的義兄。關平、關興、關索之父。","在桃園結義和劉備、張飛結為兄弟。董卓討伐戰中因擊敗華雄而聲名大噪。在劉備敗給曹操時，為了保護劉備之妻而向曹操投降。斬殺袁紹軍的顏良和文醜回報曹操的恩情之後，就過五關斬六將回到劉備麾下。劉備入蜀後雖然統治了荊州，卻與同盟的孫權關係惡化。在掛上五虎將軍之首的稱號進軍中原後，被破棄同盟關係的孫權軍奪去荊州，在麥城同關平等雙雙被殺。","好讀「春秋左氏傳」，並暗記其內容。"],
    ["張飛","［翼德］","劉備、關羽之義弟。張苞、張紹之父。正史中字為益德。","於桃園立誓與劉備、關羽結為義兄弟。雖正義好漢，卻常喝酒誤事，奉劉備之命守護下邳之時，因爛醉遭呂布奪城。但論武勇可謂數一數二，於長坂坡之戰亦曾單槍匹馬趕走曹操大軍。於益州侵略戰時，利用智謀逮捕嚴顏時亦知禮數，以將軍身分看來成長甚多。但於關羽復仇戰時，卻因鞭打要求再通融準備出陣時間之范彊及張達，故遭懷恨在心，於酒醉之時遇害。","其妻為夏侯霸表妹，其女則成為劉禪之皇后。"],
    ["趙雲","［子龍］","蜀國五虎將軍之一。趙統、趙廣父親。","一開始仕官於袁紹、公孫瓚，之後成為劉備麾下。長坂坡之戰單騎闖入曹操大軍中，救出了甘氏和阿斗（劉禪）。漢中攻防戰則以單挑阻止了曹操軍的進軍，劉備曾誇他「子龍一身是膽」。就算是街亭的敗戰，只有趙雲的部隊不損一兵一卒地成功撤退。另外也有參與蜀攻略戰、南蠻平定戰等常隨諸葛亮進行遠征，深受劉備和諸葛亮的信賴。","在博望之戰俘虜了同鄉夏侯蘭，並替他請命。之後自己也不接近夏侯蘭，用著慎重的態度自處。"],
    ["諸葛亮","［孔明］","諸葛珪之子，諸葛瑾之弟。諸葛均之兄，諸葛瞻之父。","自幼在叔父諸葛玄的庇護下成長，之後進入司馬徽門下被稱為「臥龍」。被劉備三顧茅廬所招攬後，說動孫權軍並在赤壁之戰大破曹操軍。在自己的三分天下之計下，使劉備稱霸荊州南部和益州並建立蜀國。隨劉備即帝位後成為丞相，受劉備臨終受託輔佐劉禪。劉備死後，和吳國恢復邦交並且平定南蠻。反覆地進行北伐，全心執著的想要討伐魏國，卻病逝五丈原。","比起神機妙算的軍事戰略家，多半是以政治家的身分被描述較多。"],
    ["黃忠","［漢升］","劉表的武將。劉表死後服侍長沙太守韓玄。弓箭名手。在中國為老當益壯者的代名詞。","迎擊入侵長沙的劉備軍，和關羽單挑不相上下。韓玄死後，因為劉備直接來訪而決定出仕。在劉備攻蜀時，和魏延以先鋒活躍於戰前。在曹操軍的漢中攻防戰中，和同樣高齡的嚴顏聯手在葭萌關擊退張郃。在定軍山時也和法正協力砍殺夏侯淵，也因此功績成為五虎將軍之一。在夷陵之戰的前哨戰中，衝進潘璋陣營不幸戰死。","在劉備成為漢中王後升為後將軍，翌年去世。"],
    ["姜維","［伯約］","魏國天水太守馬遵的部下。後為蜀將。","在第一次北伐時迎擊蜀軍，雖一度擊敗諸葛亮，卻陷入諸葛亮的陷阱而向蜀軍投降。之後就以蜀將參加諸葛亮的北伐，在諸葛亮臨終之際還授得兵法。諸葛亮死後，對出兵採消極態度的費禕一死，便成為大將軍指揮北伐。在鍾會和鄧艾進攻蜀國時，雖在劍閣死守抵抗，最後因顧慮先投降的劉禪的性命而投降。雖立志再興蜀國而同鍾會舉兵，卻戰敗而死。","諸葛亮如此讚賞「身懷有馬良以上的才能，為涼州最傑出的人才」。"],
    ["魏延","［文長］","原為劉表武將。仕官於韓玄，之後加入劉備軍。","劉備軍在侵攻南荊州時，斬殺太守韓玄並交出長沙。諸葛亮指說他有反骨之相該處斬，但劉備並不介意並收為戰將。在益州侵攻戰和黃忠一起爭功，在漢中攻防戰曾射中曹操而十分活躍。劉備在當上漢中王時，被任命為漢中太守。之後在諸葛亮征討南蠻、北伐時隨軍。雖是蜀軍的主力，但在北伐的路線方向上和諸葛亮起衝突。諸葛亮死後，和楊儀對立因而造反，而被馬岱斬殺。","當他擠下張飛成為漢中太守時，曾讓周圍的人大吃一驚。"],
    ["法正","［孝直］","劉璋之幕僚。後仕於劉備。","與張松、孟達等人不看好劉璋，策劃將益州委託於劉備。與龐統共同擔任劉備之益州平定戰之參謀。劉備平定益州後成為蜀郡太守。與曹操之漢中攻防戰中亦以參謀之身分表現卓越。傳授黃忠計略，繼而討伐夏侯淵。對其智謀，諸葛亮亦予以頗高評價，於劉備強行對夷陵出兵時，諸葛亮感嘆「若法正仍然在世，或許就不需出兵了吧」。","雖有小仇必報等缺點，但因其智謀受賞識，而為諸葛亮所容忍。"],        
]

// 展示慶祝彈窗
async function showCelebration(selectedPerson) {
    const modal = document.getElementById('celebration-modal');
    const characterImg = document.getElementById('character-image');
    const backgroundImg = document.getElementById('background-image');
    
    // 先显示弹窗
    modal.style.display = 'block';
    
    // 设置人物基本信息
    document.getElementById('char-name').textContent = selectedPerson[0] || '';
    document.getElementById('char-subname').textContent = selectedPerson[1] || '';
    document.getElementById('char-brief').textContent = selectedPerson[2] || '';
    document.getElementById('char-story').innerHTML = `
        <span class="story-bg">演</span>${selectedPerson[3] || '暂无数据'}
    `;
    document.getElementById('char-history').innerHTML = `
        <span class="history-bg">史</span>${selectedPerson[4] || '暂无数据'}
    `;

    try {
        // 预加载图片
        const [characterImgLoaded, backgroundImgLoaded] = await Promise.all([
            new Promise((resolve) => {
                const img = new Image();
                img.onload = () => {
                    characterImg.src = img.src;
                    resolve();
                };
                img.src = `resources/人物/${selectedPerson[0]}.png`;
            }),
            new Promise((resolve) => {
                const img = new Image();
                img.onload = () => {
                    backgroundImg.src = img.src;
                    resolve();
                };
                img.src = 'resources/background.jpg';
            })
        ]);
    } catch (error) {
        console.error('加载人物信息失败:', error);
    }
}

// 关闭慶祝弹窗
function closeCelebration() {
    document.getElementById('celebration-modal').style.display = 'none';
}